import{d as te,aG as me,h as C,aH as ze,E as Ce,g as h,x as ce,O as fe,j as pe,o as m,b as Q,H as d,w as S,k as p,n as f,l as a,N as ue,a2 as Ie,e as x,c as _,F as H,J as Le,D as ve,ad as Se,ae as xe,r as U,T as Ee,aB as Ne,ac as Oe,t as ge,L as Te,a8 as $e,aF as De,a as Re}from"./chunks/framework.bdb1750b.js";import{d as Ae,m as he,u as V,E as A}from"./chunks/base.fee3803e.js";import{i as B,c as Be,e as we,f as de,l as ee,aq as Ve,ar as je,p as ye,u as _e,V as Me,E as O,A as Pe,D as Fe,F as He,as as Ye,at as Xe,au as We,av as Ke,_ as be,ap as Ze,w as ke,T as qe,aw as Ge}from"./chunks/index.7c10520f.js";import{u as Je,g as Ue}from"./chunks/index.76badf1a.js";const Qe=(l,i)=>{if(!B||!l||!i)return!1;const o=l.getBoundingClientRect();let n;return i instanceof Element?n=i.getBoundingClientRect():n={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},o.top<n.bottom&&o.bottom>n.top&&o.right>n.left&&o.left<n.right};var et="Expected a function";function ie(l,i,o){var n=!0,v=!0;if(typeof l!="function")throw new TypeError(et);return Be(o)&&(n="leading"in o?!!o.leading:n,v="trailing"in o?!!o.trailing:v),Ae(l,i,{leading:n,maxWait:i,trailing:v})}const tt=we({urlList:{type:de(Array),default:()=>he([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7}}),at={close:()=>!0,switch:l=>ee(l),rotate:l=>ee(l)},nt=["src"],st=te({name:"ElImageViewer"}),ot=te({...st,props:tt,emits:at,setup(l,{expose:i,emit:o}){const n=l,v={CONTAIN:{name:"contain",icon:me(Ve)},ORIGINAL:{name:"original",icon:me(je)}},{t:b}=ye(),c=_e("image-viewer"),{nextZIndex:ae}=Me(),T=C(),N=C([]),E=ze(),I=C(!0),w=C(n.initialIndex),y=Ce(v.CONTAIN),u=C({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),j=h(()=>{const{urlList:t}=n;return t.length<=1}),D=h(()=>w.value===0),Y=h(()=>w.value===n.urlList.length-1),ne=h(()=>n.urlList[w.value]),se=h(()=>[c.e("btn"),c.e("prev"),c.is("disabled",!n.infinite&&D.value)]),M=h(()=>[c.e("btn"),c.e("next"),c.is("disabled",!n.infinite&&Y.value)]),oe=h(()=>{const{scale:t,deg:s,offsetX:r,offsetY:k,enableTransition:L}=u.value;let g=r/t,z=k/t;switch(s%360){case 90:case-270:[g,z]=[z,-g];break;case 180:case-180:[g,z]=[-g,-z];break;case 270:case-90:[g,z]=[-z,g];break}const R={transform:`scale(${t}) rotate(${s}deg) translate(${g}px, ${z}px)`,transition:L?"transform .3s":""};return y.value.name===v.CONTAIN.name&&(R.maxWidth=R.maxHeight="100%"),R}),X=h(()=>ee(n.zIndex)?n.zIndex:ae());function $(){re(),o("close")}function le(){const t=ie(r=>{switch(r.code){case A.esc:n.closeOnPressEscape&&$();break;case A.space:q();break;case A.left:G();break;case A.up:e("zoomIn");break;case A.right:J();break;case A.down:e("zoomOut");break}}),s=ie(r=>{const k=r.deltaY||r.deltaX;e(k<0?"zoomIn":"zoomOut",{zoomRate:n.zoomRate,enableTransition:!1})});E.run(()=>{V(document,"keydown",t),V(document,"wheel",s)})}function re(){E.stop()}function W(){I.value=!1}function K(t){I.value=!1,t.target.alt=b("el.image.error")}function Z(t){if(I.value||t.button!==0||!T.value)return;u.value.enableTransition=!1;const{offsetX:s,offsetY:r}=u.value,k=t.pageX,L=t.pageY,g=ie(R=>{u.value={...u.value,offsetX:s+R.pageX-k,offsetY:r+R.pageY-L}}),z=V(document,"mousemove",g);V(document,"mouseup",()=>{z()}),t.preventDefault()}function P(){u.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function q(){if(I.value)return;const t=Ze(v),s=Object.values(v),r=y.value.name,L=(s.findIndex(g=>g.name===r)+1)%t.length;y.value=v[t[L]],P()}function F(t){const s=n.urlList.length;w.value=(t+s)%s}function G(){D.value&&!n.infinite||F(w.value-1)}function J(){Y.value&&!n.infinite||F(w.value+1)}function e(t,s={}){if(I.value)return;const{minScale:r,maxScale:k}=n,{zoomRate:L,rotateDeg:g,enableTransition:z}={zoomRate:n.zoomRate,rotateDeg:90,enableTransition:!0,...s};switch(t){case"zoomOut":u.value.scale>r&&(u.value.scale=Number.parseFloat((u.value.scale/L).toFixed(3)));break;case"zoomIn":u.value.scale<k&&(u.value.scale=Number.parseFloat((u.value.scale*L).toFixed(3)));break;case"clockwise":u.value.deg+=g,o("rotate",u.value.deg);break;case"anticlockwise":u.value.deg-=g,o("rotate",u.value.deg);break}u.value.enableTransition=z}return ce(ne,()=>{fe(()=>{const t=N.value[0];t!=null&&t.complete||(I.value=!0)})}),ce(w,t=>{P(),o("switch",t)}),pe(()=>{var t,s;le(),(s=(t=T.value)==null?void 0:t.focus)==null||s.call(t)}),i({setActiveItem:F}),(t,s)=>(m(),Q(Ne,{to:"body",disabled:!t.teleported},[d(Ee,{name:"viewer-fade",appear:""},{default:S(()=>[p("div",{ref_key:"wrapper",ref:T,tabindex:-1,class:f(a(c).e("wrapper")),style:ue({zIndex:a(X)})},[p("div",{class:f(a(c).e("mask")),onClick:s[0]||(s[0]=Ie(r=>t.hideOnClickModal&&$(),["self"]))},null,2),x(" CLOSE "),p("span",{class:f([a(c).e("btn"),a(c).e("close")]),onClick:$},[d(a(O),null,{default:S(()=>[d(a(Pe))]),_:1})],2),x(" ARROW "),a(j)?x("v-if",!0):(m(),_(H,{key:0},[p("span",{class:f(a(se)),onClick:G},[d(a(O),null,{default:S(()=>[d(a(Fe))]),_:1})],2),p("span",{class:f(a(M)),onClick:J},[d(a(O),null,{default:S(()=>[d(a(He))]),_:1})],2)],64)),x(" ACTIONS "),p("div",{class:f([a(c).e("btn"),a(c).e("actions")])},[p("div",{class:f(a(c).e("actions__inner"))},[d(a(O),{onClick:s[1]||(s[1]=r=>e("zoomOut"))},{default:S(()=>[d(a(Ye))]),_:1}),d(a(O),{onClick:s[2]||(s[2]=r=>e("zoomIn"))},{default:S(()=>[d(a(Xe))]),_:1}),p("i",{class:f(a(c).e("actions__divider"))},null,2),d(a(O),{onClick:q},{default:S(()=>[(m(),Q(Le(a(y).icon)))]),_:1}),p("i",{class:f(a(c).e("actions__divider"))},null,2),d(a(O),{onClick:s[3]||(s[3]=r=>e("anticlockwise"))},{default:S(()=>[d(a(We))]),_:1}),d(a(O),{onClick:s[4]||(s[4]=r=>e("clockwise"))},{default:S(()=>[d(a(Ke))]),_:1})],2)],2),x(" CANVAS "),p("div",{class:f(a(c).e("canvas"))},[(m(!0),_(H,null,ve(t.urlList,(r,k)=>Se((m(),_("img",{ref_for:!0,ref:L=>N.value[k]=L,key:r,src:r,style:ue(a(oe)),class:f(a(c).e("img")),onLoad:W,onError:K,onMousedown:Z},null,46,nt)),[[xe,k===w.value]])),128))],2),U(t.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var lt=be(ot,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const rt=ke(lt),it=we({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:de([String,Object])},previewSrcList:{type:de(Array),default:()=>he([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7}}),ct={load:l=>l instanceof Event,error:l=>l instanceof Event,switch:l=>ee(l),close:()=>!0,show:()=>!0},ut=["src","loading"],dt={key:0},mt=te({name:"ElImage",inheritAttrs:!1}),ft=te({...mt,props:it,emits:ct,setup(l,{emit:i}){const o=l;let n="";const{t:v}=ye(),b=_e("image"),c=Oe(),ae=Je(),T=C(),N=C(!1),E=C(!0),I=C(!1),w=C(),y=C(),u=B&&"loading"in HTMLImageElement.prototype;let j,D;const Y=h(()=>[b.e("inner"),M.value&&b.e("preview"),E.value&&b.is("loading")]),ne=h(()=>c.style),se=h(()=>{const{fit:e}=o;return B&&e?{objectFit:e}:{}}),M=h(()=>{const{previewSrcList:e}=o;return Array.isArray(e)&&e.length>0}),oe=h(()=>{const{previewSrcList:e,initialIndex:t}=o;let s=t;return t>e.length-1&&(s=0),s}),X=h(()=>o.loading==="eager"?!1:!u&&o.loading==="lazy"||o.lazy),$=()=>{B&&(E.value=!0,N.value=!1,T.value=o.src)};function le(e){E.value=!1,N.value=!1,i("load",e)}function re(e){E.value=!1,N.value=!0,i("error",e)}function W(){Qe(w.value,y.value)&&($(),P())}const K=Ge(W,200,!0);async function Z(){var e;if(!B)return;await fe();const{scrollContainer:t}=o;qe(t)?y.value=t:$e(t)&&t!==""?y.value=(e=document.querySelector(t))!=null?e:void 0:w.value&&(y.value=Ue(w.value)),y.value&&(j=V(y,"scroll",K),setTimeout(()=>W(),100))}function P(){!B||!y.value||!K||(j==null||j(),y.value=void 0)}function q(e){if(e.ctrlKey){if(e.deltaY<0)return e.preventDefault(),!1;if(e.deltaY>0)return e.preventDefault(),!1}}function F(){M.value&&(D=V("wheel",q,{passive:!1}),n=document.body.style.overflow,document.body.style.overflow="hidden",I.value=!0,i("show"))}function G(){D==null||D(),document.body.style.overflow=n,I.value=!1,i("close")}function J(e){i("switch",e)}return ce(()=>o.src,()=>{X.value?(E.value=!0,N.value=!1,P(),Z()):$()}),pe(()=>{X.value?Z():$()}),(e,t)=>(m(),_("div",{ref_key:"container",ref:w,class:f([a(b).b(),e.$attrs.class]),style:ue(a(ne))},[N.value?U(e.$slots,"error",{key:0},()=>[p("div",{class:f(a(b).e("error"))},ge(a(v)("el.image.error")),3)]):(m(),_(H,{key:1},[T.value!==void 0?(m(),_("img",Te({key:0},a(ae),{src:T.value,loading:e.loading,style:a(se),class:a(Y),onClick:F,onLoad:le,onError:re}),null,16,ut)):x("v-if",!0),E.value?(m(),_("div",{key:1,class:f(a(b).e("wrapper"))},[U(e.$slots,"placeholder",{},()=>[p("div",{class:f(a(b).e("placeholder"))},null,2)])],2)):x("v-if",!0)],64)),a(M)?(m(),_(H,{key:2},[I.value?(m(),Q(a(rt),{key:0,"z-index":e.zIndex,"initial-index":a(oe),infinite:e.infinite,"zoom-rate":e.zoomRate,"min-scale":e.minScale,"max-scale":e.maxScale,"url-list":e.previewSrcList,"hide-on-click-modal":e.hideOnClickModal,teleported:e.previewTeleported,"close-on-press-escape":e.closeOnPressEscape,onClose:G,onSwitch:J},{default:S(()=>[e.$slots.viewer?(m(),_("div",dt,[U(e.$slots,"viewer")])):x("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):x("v-if",!0)],64)):x("v-if",!0)],6))}});var pt=be(ft,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const vt=ke(pt),gt={__name:"BackMap",setup(l){const i=De(),o=()=>{i.go("/blog/docs/map")};return(n,v)=>(m(),_("div",{class:"absolute top--30px left--100px cursor-pointer",onClick:o},ge("<-")+" Back Map "))}};const ht={__name:"ImgPreview",props:{imgList:{type:Array,default:()=>[]}},setup(l){return(i,o)=>{const n=vt;return m(),_("div",null,[(m(!0),_(H,null,ve(l.imgList,(v,b)=>(m(),Q(n,{key:b,class:"w-100% border-rd-8px",style:{border:"1px solid #eeeeee"},src:v,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,lazy:"","hide-on-click-modal":"","initial-index":b,"preview-src-list":l.imgList,fit:"cover"},null,8,["src","initial-index","preview-src-list"]))),128))])}}},wt=p("h2",{id:"广州动物园",tabindex:"-1"},[Re("广州动物园 "),p("a",{class:"header-anchor",href:"#广州动物园","aria-label":'Permalink to "广州动物园"'},"​")],-1),yt=p("p",null,"平安夜去动物园拍照了！",-1),It=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/travel/广州动物园.md","filePath":"docs/travel/广州动物园.md","lastUpdated":1703829606000}'),_t={name:"docs/travel/广州动物园.md"},Lt=Object.assign(_t,{setup(l){const i=["https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0432.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0410.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0408.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0388.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0360.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0324.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0288.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0203.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0109.jpg"];return(o,n)=>(m(),_("div",null,[d(gt),wt,yt,d(ht,{imgList:i})]))}});export{It as __pageData,Lt as default};
